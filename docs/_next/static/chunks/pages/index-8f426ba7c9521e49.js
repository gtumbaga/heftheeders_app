(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1509)}])},1509:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return W}});var s=t(5893),n=t(9008),c=t.n(n);t(5675);var l=t(7294),i=t(5005),r=t(1676),o=t(3382),d=t.n(o),h=e=>{let{onSubmit:a}=e,[t,n]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),h=(0,l.useCallback)(()=>{a(t,c)});return(0,s.jsx)("div",{className:d().LoginForm,children:(0,s.jsxs)(r.Z,{children:[(0,s.jsx)("h1",{className:"mb-3",children:"Login"}),(0,s.jsxs)(r.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,s.jsx)(r.Z.Label,{children:"Email address"}),(0,s.jsx)(r.Z.Control,{type:"email",placeholder:"Enter email",value:t,onChange:e=>{n(e.target.value)}}),(0,s.jsx)(r.Z.Text,{className:"text-muted",children:"We'll always share your email with any marketers. jk."})]}),(0,s.jsxs)(r.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,s.jsx)(r.Z.Label,{children:"Password"}),(0,s.jsx)(r.Z.Control,{type:"password",placeholder:"Password",value:c,onChange:e=>{o(e.target.value)}})]}),(0,s.jsx)(i.Z,{variant:"primary",onClick:h,children:"Login"})]})})},m=t(5121),u=t(8640),x=t.n(u);function g(e){let{children:a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("main",{className:x().Theme,children:(0,s.jsx)("div",{className:"gCard",children:a})})})}var j=t(8023),f=t(8863),p=t(2133),N=t(4309),v=t.n(N),D=()=>{let[e,a]=(0,l.useState)(!1);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:v().Header,bg:"dark",variant:"dark",children:[(0,s.jsx)("div",{className:"topRow",children:(0,s.jsx)(i.Z,{className:"btn-primary btn-hamburger",onClick:()=>a(!0),title:"Menu",children:(0,s.jsx)(p.Z,{size:30})})}),(0,s.jsx)("div",{className:"bottomRow",children:(0,s.jsx)("div",{children:"row 2"})}),(0,s.jsxs)(f.Z,{show:e,onHide:()=>a(!1),children:[(0,s.jsx)(f.Z.Header,{closeButton:!0,children:(0,s.jsx)(f.Z.Title,{children:"Heft Heeders"})}),(0,s.jsx)(f.Z.Body,{children:(0,s.jsxs)(j.Z,{className:"mr-auto",children:[(0,s.jsx)(j.Z.Link,{href:"#features",children:"Features"}),(0,s.jsx)(j.Z.Link,{href:"#pricing",children:"Pricing"})]})})]})]})})},k=t(1273),_=t.n(k),w=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:_().Footer,children:"This is the footer"})}),y=t(1225),b=t.n(y),F=()=>(0,s.jsxs)("div",{className:b().LoadingWidget,children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{})]}),S=t(8122),C=t.n(S);t(8464);var Z=e=>{let{weekData:a,currentDay:t,onClickDay:n}=e,c=e=>{if(!e)return"";{let a=e.split("-"),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(a[1])+1];return"".concat(t," ").concat(a[2])}},i=c(Object.keys(a)[0]),r=c(Object.keys(a)[6]),o=(0,l.useCallback)(e=>{n(e-1)});return(0,s.jsxs)("div",{className:C().Bubbles,children:[(0,s.jsxs)("div",{className:"weekOf mb-2",children:["Week of: ",i," - ",r]}),(0,s.jsxs)("div",{className:"dayGrid chosen-".concat(t),children:[(0,s.jsx)("div",{className:"day day-1",onClick:()=>o(1),children:(0,s.jsx)("div",{className:"circle",children:(0,s.jsx)("i",{children:"M"})})}),(0,s.jsx)("div",{className:"day day-2",onClick:()=>o(2),children:(0,s.jsx)("div",{className:"circle",children:(0,s.jsxs)("i",{children:["T",(0,s.jsx)("span",{className:"small",children:"u"})]})})}),(0,s.jsx)("div",{className:"day day-3",onClick:()=>o(3),children:(0,s.jsx)("div",{className:"circle",children:(0,s.jsx)("i",{children:"W"})})}),(0,s.jsx)("div",{className:"day day-4",onClick:()=>o(4),children:(0,s.jsx)("div",{className:"circle",children:(0,s.jsxs)("i",{children:["T",(0,s.jsx)("span",{className:"small",children:"h"})]})})}),(0,s.jsx)("div",{className:"day day-5",onClick:()=>o(5),children:(0,s.jsx)("div",{className:"circle",children:(0,s.jsx)("i",{children:"F"})})}),(0,s.jsx)("div",{className:"day day-6",onClick:()=>o(6),children:(0,s.jsx)("div",{className:"circle",children:(0,s.jsxs)("i",{children:["S",(0,s.jsx)("span",{className:"small",children:"a"})]})})}),(0,s.jsx)("div",{className:"day day-7",onClick:()=>o(7),children:(0,s.jsx)("div",{className:"circle",children:(0,s.jsxs)("i",{children:["S",(0,s.jsx)("span",{className:"small",children:"u"})]})})})]})]})},E=t(3538),L=t.n(E),O=()=>(0,s.jsx)("div",{className:L().Stats,children:"stats"}),B=t(8836),M=t.n(B),H=()=>(0,s.jsx)("div",{className:M().DayBreakout,children:"Day Breakout"}),T=()=>{let[e,a]=(0,l.useState)(!0),[t,n]=(0,l.useState)(!1),[c,i]=(0,l.useState)(null),[r,o]=(0,l.useState)(null),[d,u]=(0,l.useState)({}),[x,j]=(0,l.useState)(null),[f,p]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=localStorage.getItem("token");e?(i(e),a(!0),m.Z.get("".concat("https://hh-api.omga.be","/api/user"),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{e&&e.data.id&&console.log("auth verification response",e.data),n(!0),a(!1)})):a(!1)},[]),(0,l.useEffect)(()=>{if(!0===t&&c){a(!0);let e=new Date,t=e.getDay(),s=0;s=t<1?-6:-((t-1)*1);let n=new Date(new Date().setDate(e.getDate()+s)),l=new Date(new Date().setDate(n.getDate()+1)),i=new Date(new Date().setDate(n.getDate()+2)),r=new Date(new Date().setDate(n.getDate()+3)),d=new Date(new Date().setDate(n.getDate()+4)),h=new Date(new Date().setDate(n.getDate()+5)),x=new Date(new Date().setDate(n.getDate()+6)),g=["".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),"".concat(l.getFullYear(),"-").concat(l.getMonth()+1,"-").concat(l.getDate()),"".concat(i.getFullYear(),"-").concat(i.getMonth()+1,"-").concat(i.getDate()),"".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()),"".concat(d.getFullYear(),"-").concat(d.getMonth()+1,"-").concat(d.getDate()),"".concat(h.getFullYear(),"-").concat(h.getMonth()+1,"-").concat(h.getDate()),"".concat(x.getFullYear(),"-").concat(x.getMonth()+1,"-").concat(x.getDate())],f="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate());p(g.indexOf(f)),j(f),o([...g]);let N={};g.forEach(e=>{N[e]={items_breakfast:[],items_lunch:[],items_dinner:[],items_snacks:[],items_activity:[]}}),console.log("date data:",g),console.log("day of week:",t),console.log("dayadjust",s);let v="".concat("https://hh-api.omga.be","/api/week/").concat(g[0]);m.Z.get(v,{headers:{Authorization:"Bearer ".concat(c)}}).then(e=>{e&&!0==e.data.success&&console.log("got week data",e.data),e.data.days.forEach(e=>{console.log("iteration of dayData",e),N[e.this_day]={items_breakfast:JSON.parse(e.items_breakfast),items_lunch:JSON.parse(e.items_lunch),items_dinner:JSON.parse(e.items_dinner),items_snacks:JSON.parse(e.items_snacks),items_activity:JSON.parse(e.items_activity)}}),console.log("tmpWeekData",N),u({...N}),a(!1)})}},[t]),(0,l.useEffect)(()=>{d&&console.log("week data has beenset",d)},[d]);let N=(0,l.useCallback)(async(e,a)=>{let t="".concat("https://hh-api.omga.be","/api/login"),s={email:e,password:a};console.log("axios gonna use payload:",t,s);let c=await m.Z.post(t,s);c&&!0==c.data.success?(console.log("successful response is:",c),localStorage.setItem("token",c.data.data.token),n(!0)):console.log("response is:",c)}),v=(0,l.useCallback)(e=>{p(e)});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D,{}),(0,s.jsxs)(g,{children:[e&&(0,s.jsx)(F,{}),!e&&!t&&(0,s.jsx)(h,{onSubmit:N}),!e&&t&&d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z,{weekData:d,currentDay:f,onClickDay:v}),(0,s.jsx)(O,{}),(0,s.jsx)(H,{})]})]}),(0,s.jsx)(w,{})]})};function W(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c(),{children:[(0,s.jsx)("title",{children:"Heft Heeders"}),(0,s.jsx)("meta",{name:"description",content:"For those of us that shall heed our heft"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(T,{})]})}},8122:function(e){e.exports={Bubbles:"Bubbles_Bubbles__rwGmH"}},8836:function(){},3382:function(e){e.exports={LoginForm:"LoginForm_LoginForm__OPDEh"}},3538:function(){},1225:function(e){e.exports={LoadingWidget:"LoadingWidget_LoadingWidget__6mmGx"}},1273:function(e){e.exports={Footer:"footer_Footer__XVHgF"}},4309:function(e){e.exports={Header:"header_Header__vQ4cs"}},8640:function(e){e.exports={Theme:"theme_Theme__NWi7x"}}},function(e){e.O(0,[606,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);